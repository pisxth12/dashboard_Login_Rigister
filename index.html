<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dashboard</title>
  <link rel="stylesheet" href="./assets/style.css">
  <link rel="stylesheet" href="./assets/chart.css">
  <link rel="stylesheet" href="./assets/icon.css">
  <link rel="stylesheet" href="./assets/darkmode.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css"/>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

</head>
<body>
  <div class="container-fluids d-flex">
      <div class="dashboard_menu d-lg-block d-none ">
       <div class="title d-flex justify-content-center p-2">
         <h3>Dashboard </h3>
       </div>


        <div class="dashboard_buttons mt-3 d-flex flex-column gap-3 p-4">
            <button class="btn  btn-nav" data-content="home">Home</button>
            <button class="btn  btn-nav" data-content="product">Product</button>
            <button class="btn  btn-nav" data-content="dashboard">Dashboard</button>
            <button class="btn  btn-nav" data-content="add_product">Add Product</button>
        </div>


      </div>

      <div class="dashboard_content ">
        <nav class="navBar_dashboard shadow-lg">
          <div class="search_content">
            <div class="search_bar">
              <input type="text" class="search_input" placeholder="Search...">
               <div class="search"><i class="fa-solid fa-search"></i></div>
            </div>
          </div>
          

          

          <div class="user_content">
            <div class="bell "><i class="fa-solid fa-bell"></i></div>
            <div class="mail"><i class="fa-solid fa-envelope"></i></div>
                
            
            <div class="dark_mode">
                      <div class="moon">
                        <i class="fa-solid fa-moon"></i>
                      </div>
             </div>


            <div class="user_account">
              
              <!-- login form -->
 
                    <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#loginModal">
                      Login
                    </button>
                    <!-- Login Modal -->
                    <div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
                      <div class="modal-dialog">
                        <div class="modal-content">
                          <form id="loginForm" method="post" enctype="multipart/form-data" autocomplete="on">
                              <div class="modal-header">
                                  <h5 class="modal-title" id="loginModalLabel">Login</h5>
                                  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                              </div>
                              <div class="modal-body">
                                  <div class="mb-3">
                                      <label for="emailLogin" class="form-label">Email</label>
                                      <input type="email" class="form-control" id="emailLogin" name="email" required autocomplete="email">
                                  </div>
                                  <div class="mb-3">
                                      <label for="passwordLogin" class="form-label">Password</label>
                                      <input type="password" class="form-control" id="passwordLogin" name="password" required autocomplete="current-password">
                                  </div>
                              </div>
                              <div class="modal-footer">
                                  <button type="submit" class="btn btn-primary">Login</button>
                                  <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                              </div>
                          </form>

                        </div>
                      </div>
                    </div>



               
               
              


                  <!-- register -->
              <button type="button" class="btn btn-outline-primary" data-bs-toggle="modal" data-bs-target="#exampleModal">
                Register
              </button>
                  <!-- Modal -->
                <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                  <div class="modal-dialog">
                    <div class="modal-content">
                      <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                      </div>
                      <div class="modal-body">


                        <form action="" id="registerForm" method="post" enctype="multipart/form-data">
                              <!-- Username -->
                              <div class="mb-1">
                                <label for="username" class="form-label">Username</label>
                                <input type="text" class="form-control" id="username" name="username" required>
                              </div>

                              <!-- Email -->
                              <div class="mb-1">
                                <label for="email" class="form-label">Email</label>
                                <input type="email" class="form-control" id="email" name="email" required>
                              </div>

                              <!-- Password -->
                              <div class="mb-1">
                                <label for="password" class="form-label">Password</label>
                                <input type="password" class="form-control" id="password" name="password" required>
                              </div>

                              <!-- Confirm Password -->
                              <div class="mb-1">
                                <label for="confirm" class="form-label">Confirm Password</label>
                                <input type="password" class="form-control" id="confirm" name="confirm" required>
                              </div>

                              <!-- Image Upload -->
                              <div class="mb-1">
                                <label for="image" class="form-label">Upload Image</label>
                                <input type="file" class="form-control" id="image" name="image" accept="image/*">
                              </div>

                              <!-- Submit -->
                              <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                                <button type="submit" class="btn btn-primary">Register now</button>
                              </div>
                            </form>
                      </div>
                      
                    </div>
                  </div>
                </div>


            </div>
          </div>
        </nav>

        <div class="content_info  overflow-y-auto ">

               <div id="main_content" class="p-3" >
                </div>


                <div id="dashboard_template" class="d-none" style="display: none;">
                    <div class="title-content d-flex justify-content-between">
                      <div class="title">
                        <h4>Dashboad</h4>
                      </div>
                      <div class="option d-flex gap-2 align-items-center">
                        <select>
                          <option value="">Select </option>
                          <option value="man">Man</option>
                          <option value="Women">Women</option>
                        </select>
                        
                      </div>
                    </div>
                    <div class="notification ">
                      <p>Lorem ipsum dolor sit.</p>
                    </div>

                    <div class="contetn_chart">
                      <div class="small-content ">
                      
                        <div class="box-content bg-black">
                              <h1>Hello</h1>
                        </div>
                      
                        <div class="box-content bg-warning">
                              <h1>Hello</h1>
                        </div>
                      
                        <div class="box-content bg-secondary">
                              <h1>Hello</h1>
                        </div>
                      
                        <div class="box-content bg-primary">
                              <h1>Hello</h1>
                        </div>
                      </div>
                      <div class="big-content ">

                        <div class="line-charts">
                          <canvas id="myChart"></canvas>
                        </div>
                        <div class="round-charts">
                          <canvas id="myDoughnutChart"></canvas>
                        </div>
                        
                      </div>
                    </div>

                  </div>


                  <div id="home_template" class="d-none" >
                    <h3>Lorem ipsum dolor sit amet.</h3>
                  </div>
              
                  <div id="product_template" class="d-none">
                      <div class="title mt-2 d-flex justify-content-between align-items-center">
                        <div class="title-content">
                          <h1 class="fw-bold fs-1">Product</h1>
                        </div>

                        <div class="select-option">
                          <select id="genderFilter" class="rounded-1 p-1 border-2 border-secondary">
                            <option value="">Select gender</option>
                            <option value="men's clothing">Male</option>
                            <option value="women's clothing">Female</option>
                          </select>
                        </div>
                      </div>

                      <div class="product-content shadow-lg p-3">
                        <div id="productList" class="row g-3">
                      <!-- result here product here -->

                        </div>
                      </div>
                    </div>


                    <div id="add_product" class="d-none " >
                        Lorem ipsum dolor sit amet consectetur adipisicing elit. Temporibus, nulla error, libero vero atque provident exercitationem eaque eius maxime fuga corporis, eum quam cumque soluta non ex! Ipsam veritatis sapiente maxime iusto blanditiis perferendis eaque, repellat autem beatae voluptas maiores quam nobis ut deserunt eum doloremque ipsum delectus voluptatem officiis fugiat doloribus sunt quisquam facilis. Quaerat veniam nesciunt debitis, numquam, qui impedit reiciendis officia consectetur, exercitationem cumque est! Ad amet provident dolorum doloremque esse ut fuga dolor voluptatem. Aliquam molestias deleniti, tempora, suscipit beatae non incidunt nam nemo repudiandae neque libero eaque corrupti similique, ab sapiente? Officiis corporis expedita inventore.
                    </div>
                    


                


              </div>      
        </div> 
        
      </div>
  </div>
  

</body>
<script src="./api/js/darkmode.js"></script>
<script src="./api/js/chart.js"></script>
<script src="./api/js/products.js"></script>
<script src="./api/js/userLogin.js"></script>

<script>
$(document).ready(function () {
    let role = localStorage.getItem("role");

    if (role !== "admin") {
        $('[data-content="dashboard"]').hide();
        $('[data-content="add_product"]').hide();
    }

    $('.btn-nav').click(function () {
        let contentType = $(this).data('content');
        $('#main_content').empty();

        if (contentType === 'home') {
            $('#main_content').html($('#home_template').html());
        } else if (contentType === 'product') {
            $('#main_content').html($('#product_template').html());
        } else if (contentType === "dashboard") {
            $('#main_content').html($('#dashboard_template').html());
            initCharts();
        } else if (contentType === "add_product") {
            $('#main_content').html($('#add_product').html());
        }
    });
});


function initCharts() {
    // Doughnut chart
    const doughnutData = {
        labels: ['Red', 'Blue', 'Yellow'],
        datasets: [{
            label: 'Dataset',
            data: [300, 50, 100],
            backgroundColor: [
                'rgb(255, 99, 132)',
                'rgb(54, 162, 235)',
                'rgb(255, 205, 86)'
            ],
            hoverOffset: 4
        }]
    };
    const doughnutConfig = { type: 'doughnut', data: doughnutData };
    new Chart(document.getElementById('myDoughnutChart'), doughnutConfig);

    // Line chart
    const labels = ['January', 'February', 'March', 'April', 'May', 'June', 'July'];
    const data = {
        labels: labels,
        datasets: [{
            label: 'My First Dataset',
            data: [65, 59, 80, 81, 56, 55, 40],
            fill: false,
            borderColor: 'rgb(75, 192, 192)',
            tension: 0.1
        }]
    };
    const config = { type: 'line', data: data };
    new Chart(document.getElementById('myChart'), config);
}

// Function to show dashboard and init charts
function showDashboard() {
    const dashboard = document.getElementById('dashboard_template');
    dashboard.classList.remove('d-none'); // Show the dashboard
    initCharts(); // Initialize charts AFTER it's visible
}

// Wait until DOM is loaded
document.addEventListener("DOMContentLoaded", function() {
    showDashboard(); // Call this here
});

</script>


</html>
